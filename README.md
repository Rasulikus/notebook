# Сервер для управления заметками
## Введение
HTTP-сервер с REST API-архитектурой на Go, предназначенный для управления заметками (CRUD) и тегами (CRUD) с поддержкой регистрации, авторизации и последующей аутентификации по JWT access-токену, а также ротацией refresh-токена через HttpOnly-cookie.

Приложение использует чистую архитектуру со слоями модель(`model`), сервис(`service`), хендлер(`handler`) и репозиторий(`repository`).

Для реализации HTTP-сервера используется фреймворк [`Gin`](https://gin-gonic.com/), а для работы с базой данных — ORM [`Bun`](https://bun.uptrace.dev/).

Для хранения данных используется Postgres. Тестировалось и разрабатывалось на docker образе `postgres:17.5`.

Каждый метод репозитория покрыт собственным тестом.

Конфигурируется приложение с помощью переменных окружения (env).


## Запуск проекта
### 1️⃣ Предварительные требования
- Установленный **Go ≥ 1.22**
- **Docker** и **Docker Compose**
- Наличие **Makefile** (для миграций и сборки)

### 2️⃣ Запуск базы данных
```bash
docker compose up -d
```
### 3️⃣ Применить миграции
```bash
make migrateup
```
### 4️⃣ Запустить приложение:
```bash
go run cmd/notebook/main.go
```
## Переменные окружение (env)
| Ключ  | Описание |
| ------------- | ------------- |
| HTTP_HOST  | Хост HTTP-сервера  | 
| HTTP_PORT  | Порт HTTP-сервера  |
| DB_HOST  | Хост базы данных PostgreSQL |
| DB_PORT  | Порт PostgreSQL  |
| DB_NAME  | Имя базы данных  |
| DB_USER  | Пользователь базы данных  |
| DB_PASS  | Пароль пользователя  |
| ACCESS_TTL  | Время жизни access-токена |
| REFRESH_TTL  | Время жизни refresh-токена  |
| SECRET  | Секрет для подписи JWT  |
